{
	"name":"Commodore 64 - Breadbin of champions",
	"version":"1.1.0",
	"origin":"MOS Technology, Norristown, Pennsylvania, USA",
	"description":"Classic 8-bit home computer with VIC-II graphics and SID sound.",
	"status":"38911 BASIC BYTES FREE",
	"copyright":"(C) 2025 Simon Armstrong",
	"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},
	"repository":{"type":"git","url":"https://github.com/nitrologic/biblispec"},
	"standards":{
		"basic":"CBM BASIC 2.0",
		"timing":{
			"pal":{"crystal":17.734475,"cpu":0.985248,"video":50,"lines":312,"vblank":37},
			"ntsc":{"crystal":14.31818,"cpu":1.0227,"video":60,"lines":262,"vblank":37}
		}
	},
	"memory_map": [
		{"name":"Zero Page","address":"$0000","start":0,"size":256,"description":"Zero Page"},
		{"name":"Stack","address":"$0100","start":256,"size":256,"description":"Processor Stack"},
		{"name":"BASIC variables","address":"$0200","start":512,"size":512,"description":"Default BASIC variable area"},
		{"name":"Screen RAM","address":"$0400","start":1024,"size":1024,"description":"Text screen memory"},
		{"name":"RAM","address":"$0800","start":2048,"size":38912,"description":"General RAM"},
		{"name":"BASIC ROM","address":"$A000","start":40960,"size":8192,"description":"BASIC ROM, switchable"},
		{"name":"RAM / Char ROM","address":"$C000","start":49152,"size":4096,"description":"RAM under Char ROM, switchable"},
		{"name":"I/O Registers","address":"$D000","start":53248,"size":4096,"description":"VIC-II, SID, Color RAM, CIA"},
		{"name":"KERNAL ROM","address":"$E000","start":57344,"size":8192,"description":"KERNAL ROM, switchable"}
	],
	"registers": [
		{"name":"VIC-II","address":"$D000","start":53248,"size":1024,"description":"Graphics chip, sprites, raster"},
		{"name":"SID","address":"$D400","start":54272,"size":1024,"description":"Sound chip, 3 voices, filters"},
		{"name":"Color RAM","address":"$D800","start":55296,"size":1024,"description":"4-bit color values for screen"},
		{"name":"CIA1","address":"$DC00","start":56320,"size":256,"description":"Timers, keyboard, joystick 1, RS-232"},
		{"name":"CIA2","address":"$DD00","start":56576,"size":256,"description":"Timers, joystick 2, serial bus"},
		{"name":"Unused / Mirrors","address":"$DE00","start":56832,"size":512,"description":"Mirrored I/O area"}
	],
	"interrupts":{
		"vectors":{"NMI":"$FFFA","RESET":"$FFFC","IRQ":"$FFFE"},
		"addresses":{"NMI":65530,"RESET":65532,"IRQ":65534},
		"description":"6502 vector table at top of KERNAL ROM"
	},
	"system":{
		"charset":{"address":"$F000","start":61440,"size":2048,"description":"PETSCII character generator ROM (2 kB, 8×8 bitmaps)"},
		"keyboard_matrix":{"rows":10,"columns":8,"row_port":"$E810","col_port":"$E812","description":"CIA1 ports scan 10×8 matrix; active-low"},
		"cassette":{"motor":"$E811 bit 5","read":"$E813 bit 7","write":"$E813 bit 6","sense":"$E813 bit 4","description":"Motor relay on=0; data bits active-low"},
		"expansion":{
			"ieee488":{"pins":24,"description":"Parallel peripheral bus, PET edge connector"}
		},
		"banking":{"control":"$E84x","rom_enable":"bit 0","ram_overlay":"bit 1"},
		"power_on_reset":{"rom_checksum":"$E62A–$E62B","ram_test":"$FD96","basic_pointers":{"start":"$0400","end":"$0800"}},
		"basic_vectors":{"cold_start":"$E453","warm_start":"$E387","reset_vector":"$E62A"}
	},
	"tokens": [
		"END","FOR","NEXT","DATA","INPUT#","INPUT","DIM","READ","LET","GOTO","RUN","IF",
		"RESTORE","GOSUB","RETURN","REM","STOP","ON","WAIT","LOAD","SAVE","VERIFY","DEF",
		"POKE","PRINT#","PRINT","CONT","LIST","CLR","CMD","SYS","OPEN","CLOSE","GET",
		"NEW","TAB(","TO","FN","SPC(","NOT","STEP","AND","OR","+","-","*","/","^",">","=","<",
		"ABS","ASC","ATN","CHR$","COS","EXP","INT","LEN","LEFT$","MID$","RIGHT$","RND","SGN",
		"SIN","SQR","TAN","LOG","USR","VAL"
	],
	"control_codes":{
		"HOME": 147,
		"REVERSE_ON": 18,
		"REVERSE_OFF": 146,
		"CURSOR_UP": 145,
		"CURSOR_DOWN": 17,
		"CURSOR_RIGHT": 29,
		"CURSOR_LEFT": 28,
		"BELL": 7,
		"CLEAR_EOL": 20,
		"CLEAR_TO_END": 19
	},
	"cpu_pins": {
		"supply": {"Vcc": 40,"Vss": 20},
		"clock": {"phi0_in": 37,"phi1_out": 3,"phi2_out": 39},
		"bus": {
			"A": [22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7],
			"D": [30, 29, 28, 27, 26, 25, 24, 23]
		},
		"control": {"R_W": 34,"SYNC": 7,"RDY": 2,"RES": 35,"IRQ": 4,"NMI": 6,"SO": 38},
		"io_port": {"P0": 5,"P1": 33,"P2": 32,"P3": 31,"P4": 30,"P5": 29}
	},
	"opcodes":[
		"ADC #","ADC (zp)","ADC (zp),Y","ADC abs","ADC abs,X","ADC abs,Y","ADC zp","ADC zp,X",
		"AND #","AND (zp)","AND (zp,X)","AND (zp),Y","AND abs","AND abs,X","AND abs,Y","AND zp","AND zp,X",
		"ASL A","ASL abs","ASL abs,X","ASL zp","ASL zp,X",
		"BCS rel","BCC rel","BEQ rel","BNE rel","BMI rel","BPL rel","BVS rel","BVC rel","BRA rel",
		"BIT #","BIT abs","BIT zp","BIT zp,X",
		"BRK",
		"CLC","CLD","CLI","CLV",
		"CPX #","CPX abs","CPX zp","CPX zp,X",
		"CPY #","CPY abs","CPY zp","CPY zp,X",
		"CMP #","CMP abs","CMP abs,X","CMP (zp)","CMP (zp,X)","CMP (zp),Y","CMP zp","CMP zp,X",
		"DEC A","DEC abs","DEC abs,X","DEC zp","DEC zp,X",
		"DEX","DEY",
		"EOR #","EOR (zp)","EOR (zp,X)","EOR (zp),Y","EOR abs","EOR abs,X","EOR abs,Y","EOR zp","EOR zp,X",
		"INC A","INC abs","INC abs,X","INC zp","INC zp,X","INX","INY",
		"JMP abs","JMP (abs)","JMP (abs,X)","JSR abs",
		"LDX #","LDX abs","LDX zp","LDX zp,Y",
		"LDY #","LDY abs","LDY abs,X","LDY zp","LDY zp,X",
		"LDA #","LDA abs","LDA abs,X","LDA abs,Y","LDA (zp)","LDA (zp,X)","LDA (zp),Y","LDA zp","LDA zp,X",
		"LSR A","LSR abs","LSR abs,X","LSR zp","LSR zp,X",
		"NOP",
		"ORA #","ORA (zp)","ORA (zp,X)","ORA (zp),Y","ORA abs","ORA abs,X","ORA abs,Y","ORA zp","ORA zp,X",
		"PHA","PLA","PHP","PLP","PHX","PLX","PLY",
		"ROL A","ROL abs","ROL abs,X","ROL zp","ROL zp,X",
		"ROR A","ROR abs","ROR abs,X","ROR zp","ROR zp,X",
		"RTI","RTS",
		"SBC #","SBC (zp)","SBC (zp,X)","SBC (zp),Y","SBC abs","SBC abs,X","SBC abs,Y","SBC zp","SBC zp,X",
		"SEC","SED","SEI",
		"STA (zp)","STA (zp,X)","STA (zp),Y","STA abs","STA abs,X","STA abs,Y","STA zp","STA zp,X",
		"STX abs","STX zp","STX zp,Y",
		"STY abs","STY zp","STY zp,X",
		"STZ abs","STZ abs,X","STZ zp","STZ zp,X",
		"TSX","TAX","TAY","TXA","TXS","TYA",
		"TSB zp","TSB abs",
		"WAI","STP"
	],
	"peripherals": [{
		"name": "VIC-II",
		"base_address": "$D000",
		"start": 53248,
		"size": 1024,
		"description": "Graphics chip, sprites, raster",
		"registers": [
			{"address":"$D000","start":53248,"description":"VIC Control Register 1"},
			{"address":"$D001","start":53249,"description":"VIC Control Register 2"},
			{"address":"$D002","start":53250,"description":"Sprite 0 X"},
			{"address":"$D003","start":53251,"description":"Sprite 1 X"},
			{"address":"$D004","start":53252,"description":"Sprite 2 X"},
			{"address":"$D005","start":53253,"description":"Sprite 3 X"},
			{"address":"$D006","start":53254,"description":"Sprite 4 X"},
			{"address":"$D007","start":53255,"description":"Sprite 5 X"},
			{"address":"$D008","start":53256,"description":"Sprite 6 X"},
			{"address":"$D009","start":53257,"description":"Sprite 7 X"},
			{"address":"$D00A","start":53258,"description":"Raster Compare Register"},
			{"address":"$D00B","start":53259,"description":"Light Pen X"},
			{"address":"$D00C","start":53260,"description":"Light Pen Y"},
			{"address":"$D00D","start":53261,"description":"Sprite 0 Y"},
			{"address":"$D00E","start":53262,"description":"Sprite 1 Y"},
			{"address":"$D00F","start":53263,"description":"Sprite 2 Y"},
			{"address":"$D010","start":53264,"description":"Sprite 3 Y"},
			{"address":"$D011","start":53265,"description":"Sprite 4 Y"},
			{"address":"$D012","start":53266,"description":"Sprite 5 Y"},
			{"address":"$D013","start":53267,"description":"Sprite 6 Y"},
			{"address":"$D014","start":53268,"description":"Sprite 7 Y"},
			{"address":"$D015","start":53269,"description":"Sprite Pointer 0"},
			{"address":"$D016","start":53270,"description":"Sprite Pointer 1"},
			{"address":"$D017","start":53271,"description":"Sprite Pointer 2"},
			{"address":"$D018","start":53272,"description":"Sprite Pointer 3"},
			{"address":"$D019","start":53273,"description":"Sprite Pointer 4"},
			{"address":"$D01A","start":53274,"description":"Sprite Pointer 5"},
			{"address":"$D01B","start":53275,"description":"Sprite Pointer 6"},
			{"address":"$D01C","start":53276,"description":"Sprite Pointer 7"},
			{"address":"$D01D","start":53277,"description":"Control Register 1 for Sprites"},
			{"address":"$D01E","start":53278,"description":"Control Register 2 for Sprites"},
			{"address":"$D01F","start":53279,"description":"IRQ Status / Mask"},
			{"address":"$D020","start":53280,"description":"Border Color"},
			{"address":"$D021","start":53281,"description":"Background Color 0"},
			{"address":"$D022","start":53282,"description":"Background Color 1"},
			{"address":"$D023","start":53283,"description":"Background Color 2"},
			{"address":"$D024","start":53284,"description":"Background Color 3"},
			{"address":"$D025","start":53285,"description":"Sprite Multicolor 0"},
			{"address":"$D026","start":53286,"description":"Sprite Multicolor 1"},
			{"address":"$D027","start":53287,"description":"Sprite Multicolor 2"},
			{"address":"$D028","start":53288,"description":"Sprite Multicolor 3"},
			{"address":"$D029","start":53289,"description":"Sprite Color 0"},
			{"address":"$D02A","start":53290,"description":"Sprite Color 1"},
			{"address":"$D02B","start":53291,"description":"Sprite Color 2"},
			{"address":"$D02C","start":53292,"description":"Sprite Color 3"},
			{"address":"$D02D","start":53293,"description":"Sprite Color 4"},
			{"address":"$D02E","start":53294,"description":"Sprite Color 5"},
			{"address":"$D02F","start":53295,"description":"Sprite Color 6"},
			{"address":"$D030","start":53296,"description":"Sprite Color 7"},
			{"address":"$D031","start":53297,"description":"Control / Memory Expansion"},
			{"address":"$D032","start":53298,"description":"Unused / Test"}
		]
	},{
		"name": "SID",
		"base_address": "$D400",
		"start": 54272,
		"size": 1024,
		"description": "Sound chip, 3 voices, filters",
		"registers": [
			{"address":"$D400","start":54272,"description":"Voice 1 Frequency Low"},
			{"address":"$D401","start":54273,"description":"Voice 1 Frequency High"},
			{"address":"$D402","start":54274,"description":"Voice 1 Pulse Width Low"},
			{"address":"$D403","start":54275,"description":"Voice 1 Pulse Width High"},
			{"address":"$D404","start":54276,"description":"Voice 1 Control / Gate"},
			{"address":"$D405","start":54277,"description":"Voice 1 ADSR Attack / Decay"},
			{"address":"$D406","start":54278,"description":"Voice 1 ADSR Sustain / Release"},
			{"address":"$D407","start":54279,"description":"Voice 2 Frequency Low"},
			{"address":"$D408","start":54280,"description":"Voice 2 Frequency High"},
			{"address":"$D409","start":54281,"description":"Voice 2 Pulse Width Low"},
			{"address":"$D40A","start":54282,"description":"Voice 2 Pulse Width High"},
			{"address":"$D40B","start":54283,"description":"Voice 2 Control / Gate"},
			{"address":"$D40C","start":54284,"description":"Voice 2 ADSR Attack / Decay"},
			{"address":"$D40D","start":54285,"description":"Voice 2 ADSR Sustain / Release"},
			{"address":"$D40E","start":54286,"description":"Voice 3 Frequency Low"},
			{"address":"$D40F","start":54287,"description":"Voice 3 Frequency High"},
			{"address":"$D410","start":54288,"description":"Voice 3 Pulse Width Low"},
			{"address":"$D411","start":54289,"description":"Voice 3 Pulse Width High"},
			{"address":"$D412","start":54290,"description":"Voice 3 Control / Gate"},
			{"address":"$D413","start":54291,"description":"Voice 3 ADSR Attack / Decay"},
			{"address":"$D414","start":54292,"description":"Voice 3 ADSR Sustain / Release"},
			{"address":"$D415","start":54293,"description":"Filter / Control 1"},
			{"address":"$D416","start":54294,"description":"Filter / Control 2"},
			{"address":"$D417","start":54295,"description":"Potentiometer / External Input"},
			{"address":"$D418","start":54296,"description":"Oscillator / Noise"}
		]
	},{
		"name": "CIA1",
		"base_address": "$DC00",
		"start": 56320,
		"size": 256,
		"description": "Timers, keyboard, joystick 1, RS-232",
		"registers": [
			{"address":"$DC00","start":56320,"description":"Port A Data Register"},
			{"address":"$DC01","start":56321,"description":"Port B Data Register"},
			{"address":"$DC02","start":56322,"description":"Data Direction Register A"},
			{"address":"$DC03","start":56323,"description":"Data Direction Register B"},
			{"address":"$DC04","start":56324,"description":"Timer A Low"},
			{"address":"$DC05","start":56325,"description":"Timer A High"},
			{"address":"$DC06","start":56326,"description":"Timer B Low"},
			{"address":"$DC07","start":56327,"description":"Timer B High"},
			{"address":"$DC0D","start":56333,"description":"Interrupt Control Register"},
			{"address":"$DC0E","start":56334,"description":"Control Register"}
		]
	},{
		"name": "CIA2",
		"base_address": "$DD00",
		"start": 56576,
		"size": 256,
		"description": "Timers, joystick 2, serial bus",
		"registers": [
			{"address":"$DD00","start":56576,"description":"Port A Data Register"},
			{"address":"$DD01","start":56577,"description":"Port B Data Register"},
			{"address":"$DD02","start":56578,"description":"Data Direction Register A"},
			{"address":"$DD03","start":56579,"description":"Data Direction Register B"},
			{"address":"$DD04","start":56580,"description":"Timer A Low"},
			{"address":"$DD05","start":56581,"description":"Timer A High"},
			{"address":"$DD06","start":56582,"description":"Timer B Low"},
			{"address":"$DD07","start":56583,"description":"Timer B High"},
			{"address":"$DD0D","start":56589,"description":"Interrupt Control Register"},
			{"address":"$DD0E","start":56590,"description":"Control Register"}
		]
	}]
}
